# Telegram Bot: Преобразование Голоса в Текст

Этот Telegram-бот расшифровывает голосовые сообщения в текст с использованием модели Whisper ASR.

## Функции и Возможности

*   **Получает и обрабатывает голосовые сообщения:** Бот прослушивает отправленные ему голосовые сообщения.
*   **Загружает аудиофайлы:** Голосовые сообщения загружаются и сохраняются локально.
*   **Преобразование речи в текст:** Использует модель Whisper ASR для расшифровки аудио в текст.
*   **Вывод текста:** Расшифрованный текст отправляется обратно пользователю частями (чанками) для соблюдения ограничений Telegram на длину сообщения.
*   **Команды Help и Start:** Предоставляет команды `/start` и `/help` для руководства пользователя.
*   **Функция Echo:** Возвращает обратно любое полученное текстовое сообщение.

## Стек технологий

*   **Python:** Основной язык программирования.
*   **aiogram:** Асинхронный фреймворк для Telegram Bot.
*   **Whisper:** Автоматическая система распознавания речи (ASR) от Open AI.
*   **python-dotenv:** Для управления переменными окружения.

## Предварительные требования

*   **Python 3.7+:** Убедитесь, что у вас установлен Python 3.7 или более поздней версии.
*   **Токен Telegram Bot:** Создайте бота в Telegram и получите его токен у BotFather.
*   **FFmpeg:** Необходим для Whisper. Установите его через пакетный менеджер вашей ОС (например, `apt install ffmpeg` в Debian/Ubuntu).

## Инструкция по установке

1.  **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/LehaKrechet/tg_bot_speech_to_text.git
    cd tg_bot_speech_to_text
    ```

2.  **Создайте виртуальное окружение (рекомендуется):**

    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Linux/macOS
    venv\Scripts\activate  # Для Windows
    ```

3.  **Установите зависимости:**

    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройте переменные окружения:**

    *   Создайте файл `.env` в корневой директории проекта.
    *   Добавьте следующие переменные в файл `.env`, заменив заполнители на ваши реальные значения:

        ```
        BOT_TOKEN=ВАШ_ТОКЕН_ТЕЛЕГРАМ_БОТА
        VOICE_DIR=files/voice
        ```

        *   `BOT_TOKEN`: Токен вашего Telegram-бота.
        *   `VOICE_DIR`: Директория для загрузки голосовых сообщений (например, `./voice_downloads/`). Убедитесь, что бот имеет права на запись в эту директорию.

## Руководство по использованию

1.  **Запустите бота:**

    ```bash
    python main.py
    ```

2.  **Взаимодействуйте с ботом:**

    *   Начните разговор с вашим ботом в Telegram.
    *   Отправьте команду `/start` для получения приветственного сообщения и списка доступных команд.
    *   Отправьте команду `/help` для получения описания функциональности бота.
    *   Отправляйте боту голосовые сообщения. Бот загрузит аудио, расшифрует его и отправит текст обратно вам.

## Docker
1. **Создайте Docker образ**

    ```bash
    docker build -f Docker/Dockerfile -t tg_bot_speech_to_text .
    ```
2. **Запустите Docker контейнер**

    ```bash
    docker run -d -it --env-file .env tg_bot_speech_to_text
    ```